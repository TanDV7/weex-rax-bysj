{"version":3,"sources":["webpack:///webpack/bootstrap cdbd212139974a3cb102?9290","webpack:///./packages/universal-env/lib/index.js?8271","webpack:///external \"@weex-module/modal\"?08cd","webpack:///./packages/universal-toast/src/index.js?0172"],"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","isWeb","navigator","appCodeName","product","isNode","process","versions","node","isWeex","callNative","isReactNative","__fbBatchedBridgeConfig","LONG_DELAY","SHORT_DELAY","queue","isProcessing","toastWin","showToastWindow","message","document","createElement","key","styles","container","style","body","appendChild","transform","webkitTransform","innerHTML","hideToastWindow","setTimeout","toast","push","duration","show","length","parentNode","removeChild","toastInfo","shift","Toast","SHORT","LONG","weexModal","require","Number","backgroundColor","boxSizing","maxWidth","color","padding","position","left","bottom","fontSize","lineHeight","fontWeight","borderRadius","textAlign","transition","webkitTransition","zIndex"],"mappings":"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","file":"toast.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cdbd212139974a3cb102","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n// https://www.w3.org/TR/html5/webappapis.html#dom-navigator-appcodename\nvar isWeb = exports.isWeb = (typeof navigator === 'undefined' ? 'undefined' : _typeof(navigator)) === 'object' && (navigator.appCodeName === 'Mozilla' || navigator.product === 'Gecko');\nvar isNode = exports.isNode = typeof process !== 'undefined' && !!(process.versions && process.versions.node);\nvar isWeex = exports.isWeex = typeof callNative === 'function';\nvar isReactNative = exports.isReactNative = typeof __fbBatchedBridgeConfig !== 'undefined';\n\n\n// WEBPACK FOOTER //\n// ./packages/universal-env/lib/index.js","module.exports = require(\"@weex-module/modal\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@weex-module/modal\"\n// module id = 1\n// module chunks = 0 1 2","import {isWeex} from 'universal-env';\n\nconst LONG_DELAY = 3500; // 3.5 seconds\nconst SHORT_DELAY = 2000; // 2 seconds\n\nlet queue = [];\nlet isProcessing = false;\nlet toastWin;\n\nfunction showToastWindow(message) {\n  if (!toastWin) {\n    toastWin = document.createElement('div');\n\n    for (let key in styles.container) {\n      toastWin.style[key] = styles.container[key];\n    }\n\n    document.body.appendChild(toastWin);\n  }\n\n  toastWin.style.transform = 'translateX(-50%)';\n  toastWin.style.webkitTransform = 'translateX(-50%)';\n  toastWin.innerHTML = message;\n\n  // setTimeout(() => {\n  //   toastWin.style.backgroundColor = 'rgba(0, 0, 0, 0.6)';\n  // }, 0);\n}\n\nfunction hideToastWindow() {\n  if (!toastWin) {\n    return;\n  }\n\n  setTimeout(() => {\n    toastWin.style.transform = 'translateX(-50%) scale(0.8)';\n    toastWin.style.webkitTransform = 'translateX(-50%) scale(0.8)';\n  }, 0);\n}\n\nlet toast = {\n  push(message, duration) {\n    queue.push({\n      message,\n      duration\n    });\n    this.show();\n  },\n\n  show() {\n    // All messages had been toasted already, so remove the toast window,\n    if (!queue.length) {\n      if (toastWin) {\n        toastWin.parentNode.removeChild(toastWin);\n      }\n      toastWin = null;\n      return;\n    }\n\n    // the previous toast is not ended yet.\n    if (isProcessing) {\n      return;\n    }\n    isProcessing = true;\n\n    let toastInfo = queue.shift();\n    showToastWindow(toastInfo.message);\n    setTimeout(() => {\n      hideToastWindow();\n      isProcessing = false;\n      setTimeout(() => this.show(), 600);\n    }, toastInfo.duration);\n  }\n};\n\nlet Toast = {\n  SHORT: SHORT_DELAY,\n  LONG: LONG_DELAY,\n\n  /*\n   * @param message {String}\n   * @param duration {Number}\n   * @param userStyle {Object} user defined style\n   */\n  show(message, duration = SHORT_DELAY) {\n    if (isWeex) {\n      let weexModal = require('@weex-module/modal');\n\n      if (weexModal.toast) {\n        weexModal.toast({\n          message,\n          duration: Number(duration) / 1000,\n        });\n      }\n    } else {\n      toast.push(message, duration);\n    }\n  },\n};\n\nlet styles = {\n  container: {\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    boxSizing: 'border-box',\n    maxWidth: '80%',\n    color: '#ffffff',\n    padding: '8px 16px',\n    position: 'fixed',\n    left: '50%',\n    bottom: '50%',\n    fontSize: '16px',\n    lineHeight: '32px',\n    fontWeight: '600',\n    borderRadius: '4px',\n    textAlign: 'center',\n    transition: 'all 0.4s ease-in-out',\n    webkitTransition: 'all 0.4s ease-in-out',\n    transform: 'translateX(-50%)',\n    webkitTransform: 'translateX(-50%)',\n    zIndex: 9999\n  }\n};\n\nexport default Toast;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/universal-toast/src/index.js"],"sourceRoot":""}